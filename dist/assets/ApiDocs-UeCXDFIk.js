import{r,j as e,F as u,m as i,b as w,c as k,d as P,A as F,e as A,t as b}from"./index-DxJ-1QUR.js";const C=()=>{const[c,x]=r.useState([]),[s,g]=r.useState(null),[y,o]=r.useState(!0),[f,m]=r.useState(!1),[p,j]=r.useState(null),[d,n]=r.useState(!1);r.useEffect(()=>{(async()=>{try{const l=(await b.get("/api-docs/products")).data;Array.isArray(l)?(x(l),l.length>0?h(l[0].slug):o(!1)):(console.error("API response is not an array:",l),x([]),o(!1))}catch(a){console.error("Error fetching documentation products:",a),j("Failed to load documentation. Please try again later."),o(!1)}})()},[]);const h=async t=>{m(!0);try{const a=await b.get(`/api-docs/products/${t}`);g(a.data),n(!1)}catch(a){console.error(`Error fetching product details for ${t}:`,a)}finally{o(!1),m(!1)}},v=t=>{const a=document.getElementById(t);if(a){const N=a.getBoundingClientRect().top+window.pageYOffset+-100;window.scrollTo({top:N,behavior:"smooth"})}};return y&&!s?e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col items-center justify-center pt-20",children:[e.jsx("div",{className:"w-16 h-16 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mb-4"}),e.jsx("p",{className:"text-gray-500 font-medium",children:"Loading Documentation..."})]}):p?e.jsx("div",{className:"min-h-screen bg-gray-50 flex flex-col items-center justify-center pt-20 px-4 text-center",children:e.jsxs("div",{className:"bg-red-50 p-6 rounded-2xl max-w-md w-full border border-red-100",children:[e.jsx("div",{className:"text-red-500 text-5xl mb-4 flex justify-center",children:e.jsx(u,{})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Documentation Not Found"}),e.jsx("p",{className:"text-gray-600 mb-6",children:p}),e.jsx("button",{onClick:()=>window.location.reload(),className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Retry"})]})}):e.jsxs("div",{className:"min-h-screen bg-[#FBFDFF] pt-20",children:[e.jsx("div",{className:"bg-white border-b border-gray-100 shadow-sm relative z-20",children:e.jsx("div",{className:"max-w-[1400px] mx-auto px-4 md:px-8 py-8 md:py-12",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6",children:[e.jsxs("div",{children:[e.jsx(i.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"flex items-center gap-3 mb-2",children:e.jsx("span",{className:"bg-blue-50 text-blue-600 px-3 py-1 rounded-full text-xs font-bold tracking-wide uppercase",children:"Developer Resources"})}),e.jsx(i.h1,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},className:"text-3xl md:text-4xl mt-5 font-bold text-gray-900",children:"API Documentation"}),e.jsx(i.p,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},className:"text-gray-500 mt-5 max-w-xl text-lg",children:"Integate TagoBits services into your applications seamlessly with our comprehensive API reference."})]}),e.jsx("div",{className:"md:hidden",children:e.jsx("button",{onClick:()=>n(!d),className:"p-2 border rounded-md text-gray-600 hover:bg-gray-50",children:d?e.jsx(w,{size:24}):e.jsx(k,{size:24})})})]})})}),e.jsxs("div",{className:"max-w-[1600px] mx-auto px-4 md:px-8 py-8 flex items-start gap-8 relative",children:[e.jsxs("aside",{className:`
                        fixed md:sticky top-[100px] left-0 bottom-0 w-[280px] bg-white md:bg-transparent z-40
                        transform transition-transform duration-300 ease-in-out border-r md:border-r-0 border-gray-200
                        md:translate-x-0 p-4 md:p-0 overflow-y-auto h-[calc(100vh-100px)]
                        ${d?"translate-x-0 shadow-2xl":"-translate-x-full"}
                    `,children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-4 mb-6",children:[e.jsx("h3",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-4 px-2",children:"Products"}),c.length>0?e.jsx("div",{className:"space-y-1",children:c.map(t=>e.jsxs("button",{onClick:()=>h(t.slug),className:`
                                            w-full text-left px-4 py-3 rounded-xl flex items-center gap-3 transition-all duration-200
                                            ${s?.id===t.id?"bg-blue-600 text-white shadow-md shadow-blue-200":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}
                                        `,children:[e.jsx(u,{className:s?.id===t.id?"text-white":"text-gray-400"}),e.jsx("span",{className:"font-medium text-sm",children:t.name}),s?.id===t.id&&e.jsx(P,{className:"ml-auto opacity-75"})]},t.id))}):e.jsx("div",{className:"text-sm text-gray-400 px-2 py-4 italic",children:"No documentation found"})]}),s&&s.sections&&s.sections.length>0&&e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-4 hidden md:block",children:[e.jsx("h3",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-4 px-2",children:"On this page"}),e.jsxs("div",{className:"space-y-1 relative",children:[e.jsx("div",{className:"absolute left-[11px] top-2 bottom-2 w-[2px] bg-gray-100 rounded-full"}),s.sections.map((t,a)=>e.jsx("button",{onClick:()=>v(t.slug),className:"w-full text-left pl-6 pr-2 py-2 text-sm text-gray-500 hover:text-blue-600 hover:bg-blue-50/50 rounded-r-lg relative block transition-colors border-l-2 border-transparent hover:border-blue-300 -ml-[2px]",children:e.jsx("span",{className:"truncate block",children:t.title})},t.id))]})]})]}),e.jsx("main",{className:"flex-1 w-full md:w-[calc(100%-320px)] min-h-[60vh] pb-20",children:e.jsx(F,{mode:"wait",children:f?e.jsx(i.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex flex-col items-center justify-center py-20",children:e.jsx("div",{className:"w-10 h-10 border-4 border-blue-600/30 border-t-blue-600 rounded-full animate-spin"})},"loader"):s?e.jsxs(i.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0},transition:{duration:.3},className:"space-y-10",children:[e.jsxs("div",{className:"bg-white rounded-3xl p-8 border border-gray-100 shadow-sm relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-blue-50 rounded-bl-[100px] -mr-16 -mt-16 opacity-50 pointer-events-none"}),e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4 relative z-10",children:s.name}),s.description&&e.jsx("p",{className:"text-gray-600 text-lg leading-relaxed relative z-10",children:s.description})]}),s.sections&&s.sections.map(t=>e.jsxs("div",{id:t.slug,className:"scroll-mt-32 border-b border-gray-100 pb-12 last:border-0",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"h-8 w-1 bg-gradient-to-b from-blue-600 to-purple-600 rounded-full"}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:t.title})]}),e.jsxs("div",{className:"grid lg:grid-cols-2 gap-8 items-start",children:[e.jsx("div",{className:"prose prose-lg prose-blue text-gray-600 max-w-none",children:t.content&&e.jsx("div",{dangerouslySetInnerHTML:{__html:t.content.replace(/\n/g,"<br />")}})}),t.code_example&&e.jsxs("div",{className:"bg-[#1E293B] rounded-2xl overflow-hidden shadow-xl ring-1 ring-white/10 mt-4 lg:mt-0 sticky top-32",children:[e.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-[#0F172A] border-b border-gray-700/50",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500/80"}),e.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500/80"}),e.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500/80"})]}),e.jsx("div",{className:"text-xs font-mono text-gray-400 uppercase tracking-widest",children:t.code_language||"JAVASCRIPT"})]}),e.jsx("div",{className:"p-6 overflow-x-auto custom-scrollbar",children:e.jsx("pre",{className:"font-mono text-sm leading-relaxed text-blue-100/90 whitespace-pre",children:e.jsx("code",{children:t.code_example})})})]})]})]},t.id)),s.sections?.length===0&&e.jsx("div",{className:"text-center py-20 bg-white rounded-3xl border border-dashed border-gray-200",children:e.jsx("p",{className:"text-gray-400 text-lg",children:"No sections available for this product yet."})})]},"content"):e.jsxs("div",{className:"flex flex-col items-center justify-center py-32 text-center",children:[e.jsx("span",{className:"bg-gray-100 p-4 rounded-full mb-4 text-gray-400",children:e.jsx(A,{size:32})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Select a Product"}),e.jsx("p",{className:"text-gray-500 mt-2 max-w-sm",children:"Choose a product from the sidebar to view its documentation and code examples."})]})})})]}),d&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-30 md:hidden",onClick:()=>n(!1)})]})};export{C as default};
